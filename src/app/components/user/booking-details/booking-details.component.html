<app-header></app-header>

<div class="mx-5 mt-8 text-xl font-semibold">BOOKING DETAILS</div>
<div class="overflow-hidden bg-white rounded-lg md:h-1/2 shadow-md mx-5 my-4 sm:flex flex-row">
  <img class="object-fit w-full sm:w-1/2" [src]="bookingDetails.designId.images[0]" alt="Article">

  <div class="p-6 flex flex-col justify-between">
    <div>
      <span class="text-xs font-medium text-[#007BFF] uppercase dark:text-[#007BFF]">{{bookingDetails.status}}</span>
      <a href="#"
        class="block mt-2 text-xl font-semibold text-gray-800 transition-colors duration-300 transform dark:text-white hover:text-gray-600 hover:underline"
        tabindex="0" role="link">{{bookingDetails.designId.name}}</a>
      <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">{{bookingDetails.designId.description}}</p>
    </div>
    <div class="flex mb">
      <div class="font-semibold mt-2 sm:mt-0  text-sm mr-2">MaterialType:</div>
      <div class="text-sm mt-2 sm:mt-0 ">{{bookingDetails.designId.materialType}}</div>
    </div>
    <div class="flex mb">
      <div class="font-semibold text-sm mr-2">FinishType:</div>
      <div class="text-sm">{{bookingDetails.designId.finishType}}</div>
    </div>
    <div class="border-b-2 mt-4  sm:bordern mb-1"></div>
    <div class="flex mb">
      <div class="font-medium text-md mr-2">Designed By:</div>
      <div class="text-md">{{bookingDetails.designerId.entity_name}}</div>
    </div>
    
    <div class="flex mb">
      <div class="font-semibold text-sm mr-2">Work Started:</div>
      <div class="text-sm">glossy</div>
    </div>
    <div class="flex mb">
      <div class="font-semibold text-sm mr-2">Work Ended:</div>
      <div class="text-sm">glossy</div>
    </div>
    <div class=" border-b-2 mt-2  sm:border mb-1"></div>

    <div class=" mt-2 sm:mt-4 flex justify-between items-center">
      <div class="flex  flex-col">
      
       
      </div>
      <div class="flex justify-end  flex-col sm:flex-row " >
        <button (click)="rejectBooking(bookingDetails._id)" *ngIf=" bookingDetails.status === Pending" class="bg-[#0B1C39]  text-white font-normal sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg   rounded">CANCEL BOOKING</button>
        <button (click)="rejectPayment(bookingDetails._id)"  *ngIf=" bookingDetails.status === waiting" class="hover:bg-[#FF0000] bg-white hover:shadow hover:shadow-lg border border-[#FF0000] text-[#FF0000] hover:text-white font-normal sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg mb-1 mr-0 sm:mr-2 sm:mb-0  rounded">REJECT </button>
        <button (click)="showConfirm(bookingDetails._id)" *ngIf=" bookingDetails.status === waiting" class="hover:bg-[#00FF00] bg-white text-green-500 hover:text-white  border border-green-400 font-semibold sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg mb-1 mr-0 sm:mr-2 sm:mb-0 rounded">PROCEED & PAY</button>
        <button (click)="cancellConsultation(bookingDetails._id)" *ngIf=" bookingDetails.status === consultation" class="bg-[#0B1C39] text-white font-normal sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg   rounded">CANCEL CONSULTATION</button>
        <!-- <button (click)="cancellProject(bookingDetails._id) *ngIf=" bookingDetails.status === consDone" class="bg-[#0B1C39] text-white font-normal sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg   rounded">Reject </button> -->
        <!-- <button *ngIf=" bookingDetails.status === progress" class="bg-[#0B1C39] text-white font-normal sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg   rounded"></button> -->
        <button [routerLink]="['/feedback',bookingDetails._id]" *ngIf=" bookingDetails.status === completed" class="bg-[#0B1C39] text-white font-normal sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg   rounded">Feedback & Review</button>
        <!-- <button *ngIf=" bookingDetails.status === waiting" class="bg-[#0B1C39] text-white font-normal sm:font-semibold py-2 px-3 text-xs sm:text-md shadow shadow-lg   rounded">PROCEED & PAY</button> -->
      </div>
    </div>
  </div>
</div>


<!-- payment confirmation popup start -->
<div class="popup-container items-center justify-center" *ngIf="confirmation">
  <div class="card p-3">
    <img src="assets/credit-card.png" class="w-16 h-16 mt-4" alt="">
    <p class="cookieDescription  font-bold">Are you sure?</p>
    <p class="cookieHeading mb-2">Needs a Payment</p>
    <div class="buttonContainer">
      <button (click)="proceedToPayment(consultationFee)"
        class="bg-[#0B1C39] text-sm  rounded py-2 px-3 text-white   mb-5">CONFIRM </button>
      <button class="bg-gray-200 text-sm py-2 rounded py-2 px-3 mb-5" (click)="onReject()">CANCEL</button>
    </div>
  </div>
</div>
<!-- end -->
<app-footer></app-footer>



